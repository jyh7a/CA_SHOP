{"version":3,"sources":["Detail.js"],"names":["Box","styled","div","Title","h4","props","color","Nav_Item","setTab","tabTit","tabTitle","i","setMySwitch","Item","Link","eventKey","onClick","TabContent","useEffect","tab","className","Info","stock","id","connect","state","reducer","alertState","alertReducer","useContext","stockContext","useState","alert","setAlert","mySwitch","navLeng","shoes","useParams","correctShoes","find","v","history","useHistory","alertTimer","setTimeout","clearTimeout","src","Number","width","title","content","price","setStock","dispatch","type","payload","name","quan","push","variant","defaultActiveKey","map","key","in","classNames","timeout"],"mappings":"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","file":"static/js/4.e448ff22.chunk.js","sourcesContent":["/* eslint-disable */\r\n\r\nimport React, {useEffect, useState, useContext} from 'react'\r\nimport { useHistory, useParams } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport './Detail.scss'\r\nimport {stockContext} from './App'\r\nimport {Nav} from 'react-bootstrap'\r\nimport {CSSTransition} from \"react-transition-group\"\r\nimport { connect } from 'react-redux'\r\n\r\nconst Box = styled.div`\r\n  padding: 20px;\r\n`\r\n\r\nconst Title = styled.h4`\r\n  font-size: 25px;\r\n  color: ${props => props.color};\r\n`\r\n\r\n  const Detail = (props) => {\r\n\r\n  const stock = useContext(stockContext)\r\n  const [alert, setAlert] = useState(true)\r\n  const [tabTitle, setTabTitle] = useState(['상품설명', '배송정보', '가격정보'])\r\n  const [tab, setTab] = useState(0)\r\n  const [mySwitch, setMySwitch] = useState(false)\r\n  const [navLeng, setNavLeng] = useState([0,1,2])\r\n  const shoes = [...props.shoes]\r\n  const {id} = useParams()\r\n  const correctShoes = shoes.find((v) => {\r\n    return v.id == id \r\n  })\r\n  const history = useHistory()\r\n\r\n  // mount, update\r\n  useEffect(() => {\r\n\r\n    // axios.get()\r\n\r\n    const alertTimer = setTimeout(() => {\r\n      setAlert(!alert)\r\n    }, 2000)\r\n\r\n    // unmount\r\n    return () => { clearTimeout(alertTimer) }\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <Box>\r\n        {/* <Title color={'dodgerblue'}>Detail</Title> */}\r\n        {/* <Title color='dodgerblue'>Detail</Title> */}\r\n        <Title className=\"red\">Detail</Title>\r\n      </Box>\r\n\r\n      {\r\n        alert === true\r\n        ? <div className=\"my-alert2\">\r\n            <p>재고가 얼마 남지 않았습니다.</p>\r\n          </div> \r\n        : null \r\n      }    \r\n    \r\n\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6\">\r\n          <img src={`https://codingapple1.github.io/shop/shoes${Number(id)+1}.jpg`} width=\"100%\"></img>\r\n        </div>\r\n        <div className=\"col-md-6 mt-4\">\r\n          <h4 className=\"pt-5\">{correctShoes.title}</h4>\r\n          <p>{correctShoes.content}</p>\r\n          <p>{correctShoes.price}</p>\r\n\r\n          <Info stock={props.stock} id={correctShoes.id}></Info>\r\n\r\n          <button className=\"btn btn-danger mr-1\" onClick={()=>{\r\n            let stock = [...props.stock]\r\n            if(props.stock[correctShoes.id] > 0) stock[correctShoes.id] = props.stock[correctShoes.id] - 1\r\n            props.setStock(stock)\r\n\r\n            props.dispatch({type:'addList', payload:{id:correctShoes.id, name:correctShoes.title, quan:1}})\r\n            history.push('/cart')\r\n          }}>주문하기</button>\r\n          <button className=\"btn btn-danger\" onClick={()=> {history.push('/')}}>홈으로가기</button>\r\n          {/* <button className=\"btn btn-danger\" onClick={() => history.push('/a')}>뒤로가기</button> */}\r\n\r\n          <Nav className=\"mt-5\" variant=\"tabs\" defaultActiveKey=\"link-0\">\r\n            {\r\n              navLeng.map((v, i)=>{\r\n                return <Nav_Item setTab={setTab} i={i} setMySwitch={setMySwitch} tabTitle={tabTitle} key={i}/>\r\n              })\r\n            }\r\n            {/* <Nav.Item>\r\n              <Nav.Link eventKey=\"link-0\" onClick={()=>{props.setTab(0)}}>Option 0</Nav.Link>\r\n             </Nav.Item>\r\n            <Nav.Item>\r\n              <Nav.Link eventKey=\"link-1\" onClick={()=>{setTab(1)}}>Option 1</Nav.Link>\r\n            </Nav.Item>\r\n            <Nav.Item>\r\n              <Nav.Link eventKey=\"link-2\" onClick={()=>{setTab(2)}}>Option 2</Nav.Link>\r\n            </Nav.Item> */}\r\n          </Nav>\r\n\r\n          <CSSTransition in={mySwitch} classNames=\"wow\" timeout={500}>\r\n            <TabContent tab={tab} mySwitch={mySwitch} setMySwitch={setMySwitch}/>\r\n          </CSSTransition> \r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Nav_Item = (props) => {\r\n  const setTab = props.setTab\r\n  const tabTit = props.tabTitle\r\n  const i = props.i\r\n  const setMySwitch = props.setMySwitch\r\n  return (\r\n    <Nav.Item>\r\n      <Nav.Link eventKey={`link-${i}`} onClick={()=>{setMySwitch(false); setTab(i)}}>{tabTit[i]}</Nav.Link>\r\n    </Nav.Item>\r\n  )\r\n}\r\n\r\nconst TabContent = (props) => {\r\n\r\n  useEffect(() => {\r\n    props.setMySwitch(true)\r\n  })\r\n\r\n  const tab = props.tab\r\n  if(tab === 0){\r\n    return <div className=\"text-left p-3\">상품설명 내용입니다.</div>\r\n  }else if(tab === 1){\r\n    return <div className=\"text-left p-3\">배송정보 내용입니다.</div>\r\n  }else{\r\n    return <div className=\"text-left p-3\">가격정보 내용입니다.</div>\r\n  }\r\n}\r\n\r\n\r\nconst Info = (props) => {\r\n  return <p>재고: {props.stock[props.id] ? props.stock[props.id] : 0}</p>\r\n}\r\n\r\n\r\nconst stateToProps = (state) => {\r\n  return {\r\n    state: state.reducer,\r\n    alertState: state.alertReducer\r\n  }\r\n}\r\n\r\nexport default connect(stateToProps)(Detail)\r\n\r\n// export default Cart\r\n\r\n// class style component example\r\n{\r\n  /*\r\n  class Detail2 extends React.Component {\r\n\r\n    // 컴포넌트가 Mount 되었을때 실행\r\n    componentDidMount(){\r\n  \r\n    }\r\n  \r\n    // 컴포넌트가 사라질때 \r\n    componentWillUnmount(){\r\n  \r\n    }\r\n  }\r\n  */\r\n}\r\n"],"sourceRoot":""}